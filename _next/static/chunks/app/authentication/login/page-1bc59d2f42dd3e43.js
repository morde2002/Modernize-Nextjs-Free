(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[949],{9444:function(e,t,n){Promise.resolve().then(n.bind(n,6194))},6194:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var i=n(7437),r=n(2265),s=n(6463),o=n(1326),l=n(8433),a=n(270),d=n(511),c=n(3983),h=n(2326),x=n(335),u=n(6537),f=n(468),g=n(7476),p=n(2423),m=n(7138),j=n(8024),b=n(6648);let y=(0,j.ZP)(m.default)(()=>({height:"70px",width:"180px",overflow:"hidden",display:"block"}));var Z=()=>(0,i.jsx)(y,{href:"/",children:(0,i.jsx)(b.default,{src:"/images/logos/logixlogo.enc",alt:"logo",height:70,width:74,priority:!0})}),v=()=>{let[e,t]=(0,r.useState)({usr:"",pwd:""}),[n,m]=(0,r.useState)(""),[j,b]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),w=(0,s.useRouter)(),k=e=>{let{name:n,value:i}=e.target;t(e=>({...e,[n]:i}))},S=async t=>{t.preventDefault(),m(""),v(!0);try{let t;let n=await fetch("https://test.logixfleetapp.com/api/method/login",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"token 6ff54c38fd72811:45bd9ea31d13bf4"},body:JSON.stringify(e)});try{t=await n.json()}catch(e){throw Error("Incorrect credentials provided")}n.ok?(console.log("Login successful:",t),localStorage.setItem("token",t.token),w.push("/dashboard")):m(t.message||"Login failed")}catch(e){console.error("Login error:",e),m("Network error. Try again.")}finally{v(!1)}};return(0,i.jsx)(p.Z,{title:"LogixFleetFrontendLogin",description:"this is Login page",children:(0,i.jsx)(o.Z,{sx:{position:"relative","&:before":{content:'""',background:"radial-gradient(#d2f1df, #d3d7fa, #bad8f4)",backgroundSize:"400% 400%",animation:"gradient 15s ease infinite",position:"absolute",height:"100%",width:"100%",opacity:"0.3"}},children:(0,i.jsx)(l.ZP,{container:!0,justifyContent:"center",sx:{height:"100vh"},children:(0,i.jsx)(l.ZP,{item:!0,xs:12,sm:12,lg:4,xl:3,display:"flex",alignItems:"center",children:(0,i.jsxs)(a.Z,{elevation:9,sx:{p:4,zIndex:1,width:"100%",maxWidth:"500px"},children:[(0,i.jsx)(o.Z,{display:"flex",justifyContent:"center",mb:2,children:(0,i.jsx)(Z,{})}),(0,i.jsxs)(o.Z,{display:"flex",flexDirection:"column",alignItems:"center",mb:3,children:[(0,i.jsx)(g.bfl,{size:40}),(0,i.jsx)(d.Z,{variant:"h5",mt:1,children:"Welcome Back"}),(0,i.jsx)(d.Z,{variant:"body2",color:"textSecondary",textAlign:"center",children:"Enter your credentials to sign in"})]}),(0,i.jsxs)("form",{onSubmit:S,children:[n&&(0,i.jsx)(d.Z,{color:"error",textAlign:"center",mb:2,children:n}),(0,i.jsx)(c.Z,{fullWidth:!0,label:"Username",name:"usr",value:e.usr,onChange:k,margin:"normal",required:!0}),(0,i.jsx)(c.Z,{fullWidth:!0,label:"Password",name:"pwd",type:j?"text":"password",value:e.pwd,onChange:k,margin:"normal",required:!0,InputProps:{endAdornment:(0,i.jsx)(h.Z,{position:"end",children:(0,i.jsx)(x.Z,{onClick:()=>b(!j),edge:"end",children:j?(0,i.jsx)(g.rzC,{}):(0,i.jsx)(g.rDJ,{})})})}}),(0,i.jsx)(u.Z,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,sx:{mt:3,mb:2},disabled:y,children:y?(0,i.jsx)(f.Z,{size:24,color:"inherit"}):"Sign In"})]})]})})})})})}},2423:function(e,t,n){"use strict";var i=n(7437),r=n(2099);t.Z=e=>{let{title:t,description:n,children:s}=e;return(0,i.jsx)(r.B6,{children:(0,i.jsxs)("div",{children:[(0,i.jsxs)(r.ql,{children:[(0,i.jsx)("title",{children:t}),(0,i.jsx)("meta",{name:"description",content:n})]}),s]})})}}},function(e){e.O(0,[956,292,565,784,591,504,895,0,138,538,205,971,23,744],function(){return e(e.s=9444)}),_N_E=e.O()}]);